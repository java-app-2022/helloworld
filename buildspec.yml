version: 0.2

phases:
  install:
    runtime-versions:
      java: corretto11
  pre_build:
    commands:
      - echo Nothing to do in the pre_build phase...
      - export CODEARTIFACT_AUTH_TOKEN=eyJ2ZXIiOjEsImlzdSI6MTY0OTQ5NDc4MSwiZW5jIjoiQTEyOEdDTSIsInRhZyI6IlZNbVR4T0FBRldqUUo3ZW1mZ1luN0EiLCJleHAiOjE2NDk1Mzc5ODEsImFsZyI6IkExMjhHQ01LVyIsIml2Ijoiczd1d2QzUDc3Mll2NENMMiJ9.S-SyJ-GWuucRd2JcpJWxUA.HG1VJbNlk4JfWJZU.JioA3iamxuCh9mN2AuFNbpWCR434nmupNOTLXezLQyUMo5R4aXJqhosJGTKtTaDBgjYGdtAMoYXfl6S3rOmQOWRMIA9kwiYWr5M1W2HTDb84JH_-QJlL_wQ8zgLzFYp6NSa2DFJpXBiPKHdyfWwa-eJ9WdKODCdoa91rr9po1G5m5sw4oiyzHeTpnOLirYmaVDdt9Sm8qe0qjV3NtoYZhZPpI1ZkriF31xz_OWlqUfTKHFXkMDOUGNV-SIrh3zoq4cplkL-h3bDTZCeI_PaFWBvPL0dw9Ir69oJ8XF2dJ97A0f-pRTQHYRE_W6KRqbHoFOwcmoAqto3rZ35jK7u5z2r4Zyo3QRM-2voag86I0RqW0q_yoUpkPLUj1zhK4aPTaz3RndyyhahgeCpiD8VSvA1x3eR9Udbi8X2DLMc9C6mlYCkMxTyv1azgkMvIIIt5fH46r8dooGaskwGf5b0i2XbNOlwnVtd8JnTbDRczzMdDUL05NEd5iSLHH7996rUHZeTOTU3Ccz7jKFPYhBue5ivrkaVRfFaF1bFbbYgUoEgZBHu4i6baz_UEd91A_zZaTqcznYM29-vOf7ewJkkGbYbF-YwXRSRcxeIZR4bWt8-aANYM338P3wAeht77H3GDADAtPqOzifM0ZuR0w-TBZeN5J08ThGfpCsgFC0qyf7MuGFZnftGclMxJ28qN_NW2h8Mo4zh4i15XKnDRLT9NwGKHw87DrkrQrgF4rgg6E6mX7LgWsZo4Jpz0etr1raxZrLcOSmZpaun56GcSSJ-WoxbOq-AmXpuFI48orySaMFN-oIiNSj2aC0V9pJ9wQMLJQEle8zP6RS6SHQ4fQPg1WSxEPjdYfgZ_Fj1V4_BIQmwvdbf7OjKg7NCyC_8dd5mWJiS2t364sgUqcOP3O5Kg.B-IrDITwkgGq2Sjs6Wt2ow
      - cp settings.xml /root/.m2/
  build:
    commands:
      - echo Build started on `date`
      - mvn clean deploy
  post_build:
    commands:
      - echo Build completed on `date`
      
artifacts:
  files:
    - target/helloworld-1.2.jar
    - appspec.yml
    - scripts/start-process.sh
    - scripts/stop-process.sh
  discard-paths: yes

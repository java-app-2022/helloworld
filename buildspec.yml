version: 0.2

phases:
  install:
    runtime-versions:
      java: corretto11
  pre_build:
    commands:
      - echo Nothing to do in the pre_build phase...
      - export CODEARTIFACT_AUTH_TOKEN=eyJ2ZXIiOjEsImlzdSI6MTY0OTI0NTUxMiwiZW5jIjoiQTEyOEdDTSIsInRhZyI6IkJBRnpNYXJhOUZiMWMtNXhldHFTUGciLCJleHAiOjE2NDkyODg3MTIsImFsZyI6IkExMjhHQ01LVyIsIml2IjoiSmpaVDNMX1pTSzJad0lIdyJ9.0X1EmaUtbTtQcAfHJkkrbQ.dV7mhLcWKDA90Bkq.a_wWFxXYV4KsnIScQo1sCC7_0-jsC_SXFm5KXFFML4s35v3KLLlelP8tCYradTWIaQW08d089My3fzIIjkCdj2QQue4IohgT1gtsrbqnwH-bwkwUv6tgwduyHhZfNSJquqODKir6Tbf832JDlahqNBXeu1k5oWgpDIUP64lV4a9yLaPSvfAVjUgszGgf45tMhoqQZcHfUrNOfv-UEgp0FPKoiPxRzZYAa0_GO6d2y9oXlTEfrnfbDIPoi23kpF-OPny8yesklPPrFlgKcJUk8n2zX_Cify5n7i_vPqp_kSr5yrmgOfTXRxvKW7mKQ8VIkMqlamBrJlXy0ZXfv5XN2fzjcfT1Jsy7oOL1FdMYeMFlGRFVzMky27xlSWZqo8T38Tiv-a6hR7aKlhLOcTyzWszKuHYXnYRKGer8xwWjpWhwHszxkIDUfiRUgSThEVst7zhYQCqw46vgcpfSqlZKNP3Q1dFqUeqnQCVRx66S106jhtuwdzesVuDSYtQr7jJUi1qpf39H-Ekn_3xucaXdmrX_pplwxQwtnTDrL87ri78d50WLIVpg4HJc9tTbX30SgUqTISSIt9vIXgh0fWCq0ltkpZ3dyyJmxfLDhlUbtDHXZP2Ynb0L0kvd2UggWXLreXX7ODJ6Mu3UiwueZc7h2ns94FbVyYuXzx1c5ZwVnJTgXe0XjED4MmHuG_spY_N3p6dcS9j9V00poNhuo8G5X2XD0JyUbWpZuqm3iw8RrFmYJUg8unC2xQz1G4ZzeKxsJXTYeS-1ZpADVBWbJXei3VVa9at0IWHIYvDtQsypIHOnskWUODo58ikK80cwJMTHyrDZFjqufPQovJUjUGYxrR5dztBfDQdsoI9MP_zcpHvDcaNUCK11Bg1cxUBByZLxtrpk_k3nLCZsuAjpmFmWWA.ZTGHOZ3mhdCmH7x_WYlJfg
      - cp settings.xml /root/.m2/
  build:
    commands:
      - echo Build started on `date`
      - mvn deploy
  post_build:
    commands:
      - echo Build completed on `date`
      
artifacts:
  files:
    - target/helloworld-1.0.jar
